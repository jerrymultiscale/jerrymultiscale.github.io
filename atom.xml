<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Memories</title>
  <subtitle>a corner of the world</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.jiaxm.me/"/>
  <updated>2017-07-22T15:33:23.429Z</updated>
  <id>http://www.jiaxm.me/</id>
  
  <author>
    <name>jxm</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Learn Numpy The Hard Way</title>
    <link href="http://www.jiaxm.me/2017-07-day/NumPy%20Learn/"/>
    <id>http://www.jiaxm.me/2017-07-day/NumPy Learn/</id>
    <published>2017-07-19T01:55:00.000Z</published>
    <updated>2017-07-22T15:33:23.429Z</updated>
    
    <content type="html"><![CDATA[<p>NumPy, which stands for Numerical Python, is a library consisting of multidimensional array objects and a collection of routines for processing those arrays. Using NumPy, mathematical and logical operations on arrays can be performed<br>一些参考资料：<br><a href="http://scipy-lectures.github.io/intro/numpy/index.html" target="_blank" rel="external">Basics of numpy</a><br><a href="http://scipy-lectures.github.io/intro/numpy/exercises.html" target="_blank" rel="external">Some numpy exercises</a><br><a href="http://scipy-lectures.github.io/advanced/advanced_numpy/" target="_blank" rel="external">Advanced numpy</a><br><a href="http://docs.scipy.org/doc/numpy/reference/" target="_blank" rel="external">Numpy reference</a></p>
<a id="more"></a>
<h1 id="numpy的前世今生"><a href="#numpy的前世今生" class="header-anchor"></a>1. <a href="#Numpy_u7684_u524D_u4E16_u4ECA_u751F" class="headerlink" title="Numpy的前世今生"></a>Numpy的前世今生</h1><p><strong>Numeric</strong>, the ancestor of NumPy, was developed by Jim Hugunin. Another package Numarray was also developed, having some additional functionalities. In 2005, Travis Oliphant created NumPy package by incorporating the features of Numarray into Numeric package. There are many contributors to this open source project.</p>
<h1 id="numpy数值类型"><a href="#numpy数值类型" class="header-anchor"></a>2. <a href="#Numpy_u6570_u503C_u7C7B_u578B" class="headerlink" title="Numpy数值类型"></a>Numpy数值类型</h1><p>NumPy中的基本数据类型</p>
<table>
<thead>
<tr>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">bool</td>
<td style="text-align:left">用一个字节存储的布尔类型（True或False）</td>
</tr>
<tr>
<td style="text-align:left">inti</td>
<td style="text-align:left">由所在平台决定其大小的整数（一般为int32或int64）</td>
</tr>
<tr>
<td style="text-align:left">int8</td>
<td style="text-align:left">一个字节大小，-128 至 127</td>
</tr>
<tr>
<td style="text-align:left">int16</td>
<td style="text-align:left">整数，-32768 至 32767</td>
</tr>
<tr>
<td style="text-align:left">int32</td>
<td style="text-align:left">整数，-2 <strong> 31 至 2 </strong> 32 -1</td>
</tr>
<tr>
<td style="text-align:left">int64</td>
<td style="text-align:left">整数，-2 <strong> 63 至 2 </strong> 63 - 1</td>
</tr>
<tr>
<td style="text-align:left">uint8</td>
<td style="text-align:left">无符号整数，0 至 255</td>
</tr>
<tr>
<td style="text-align:left">uint16</td>
<td style="text-align:left">无符号整数，0 至 65535</td>
</tr>
<tr>
<td style="text-align:left">uint32</td>
<td style="text-align:left">无符号整数，0 至 2 ** 32 - 1</td>
</tr>
<tr>
<td style="text-align:left">uint64</td>
<td style="text-align:left">无符号整数，0 至 2 ** 64 - 1</td>
</tr>
<tr>
<td style="text-align:left">float16</td>
<td style="text-align:left">半精度浮点数：16位，正负号1位，指数5位，精度10位</td>
</tr>
<tr>
<td style="text-align:left">float32</td>
<td style="text-align:left">单精度浮点数：32位，正负号1位，指数8位，精度23位</td>
</tr>
<tr>
<td style="text-align:left">float64或float</td>
<td style="text-align:left">双精度浮点数：64位，正负号1位，指数11位，精度52位</td>
</tr>
<tr>
<td style="text-align:left">complex64</td>
<td style="text-align:left">复数，分别用两个32位浮点数表示实部和虚部</td>
</tr>
<tr>
<td style="text-align:left">complex128或complex</td>
<td style="text-align:left">复数，分别用两个64位浮点数表示实部和虚部</td>
</tr>
</tbody>
</table>
<h1 id="numpy数组的初始化"><a href="#numpy数组的初始化" class="header-anchor"></a>3. <a href="#Numpy_u6570_u7EC4_u7684_u521D_u59CB_u5316" class="headerlink" title="Numpy数组的初始化"></a>Numpy数组的初始化</h1><p>Numpy的主要数据类型是ndarray，即多维数组。它有以下几个属性：<br>ndarray.ndim：数组的维数<br>ndarray.shape：数组每一维的大小<br>ndarray.size：数组中全部元素的数量<br>ndarray.dtype：数组中元素的类型（numpy.int32, numpy.int16, and numpy.float64等）<br>ndarray.itemsize：每个元素占几个字节</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># np.arange初始化数组并reshape</span>

<span class="token comment" spellcheck="true">#生成数组赋特殊值：</span>
np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 由于numpy可以按index取值，所以zeros/ones方法可以用来创建bool数组用于取值</span>
<span class="token operator">>></span><span class="token operator">></span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>bool<span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>bool<span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> np<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 随机数，取决于内存情况</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token number">6.89818397e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818397e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817518e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89817518e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817384e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817852e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89818486e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818483e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817852e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89817384e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818483e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817384e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89818486e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818486e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818483e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89817518e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818486e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818484e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89817518e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818488e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89817518e-310</span><span class="token punctuation">,</span>
         <span class="token number">6.89818486e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818488e-310</span><span class="token punctuation">,</span>   <span class="token number">6.89818484e-310</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token string">'np.arange() （最小值，最大值，步长）（左闭右开） '</span>
<span class="token string">'np.linspace（最小值，最大值，元素数量）'</span>
<span class="token operator">>></span><span class="token operator">></span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span>  <span class="token number">0.33069396</span><span class="token punctuation">,</span>  <span class="token number">0.66138793</span><span class="token punctuation">,</span>  <span class="token number">0.99208189</span><span class="token punctuation">,</span>  <span class="token number">1.32277585</span><span class="token punctuation">,</span>
        <span class="token number">1.65346982</span><span class="token punctuation">,</span>  <span class="token number">1.98416378</span><span class="token punctuation">,</span>  <span class="token number">2.31485774</span><span class="token punctuation">,</span>  <span class="token number">2.64555171</span><span class="token punctuation">,</span>  <span class="token number">2.97624567</span><span class="token punctuation">,</span>
        <span class="token number">3.30693964</span><span class="token punctuation">,</span>  <span class="token number">3.6376336</span> <span class="token punctuation">,</span>  <span class="token number">3.96832756</span><span class="token punctuation">,</span>  <span class="token number">4.29902153</span><span class="token punctuation">,</span>  <span class="token number">4.62971549</span><span class="token punctuation">,</span>
        <span class="token number">4.96040945</span><span class="token punctuation">,</span>  <span class="token number">5.29110342</span><span class="token punctuation">,</span>  <span class="token number">5.62179738</span><span class="token punctuation">,</span>  <span class="token number">5.95249134</span><span class="token punctuation">,</span>  <span class="token number">6.28318531</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="numpy-数组的寻址索引和遍历"><a href="#numpy-数组的寻址索引和遍历" class="header-anchor"></a>4. <a href="#Numpy__u6570_u7EC4_u7684_u5BFB_u5740_uFF0C_u7D22_u5F15_u548C_u904D_u5386" class="headerlink" title="Numpy 数组的寻址，索引和遍历"></a>Numpy 数组的寻址，索引和遍历</h1><p>多维数组的访问通过给每一维指定一个索引，顺序是先高维再低维：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">10</span><span class="token operator">*</span>x <span class="token operator">+</span> y
<span class="token operator">>></span><span class="token operator">></span> np<span class="token punctuation">.</span>fromfunction<span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int<span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>…符号表示将所有未指定索引的维度均赋为：，：表示索引该维度范围所有元素</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span>  np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

       <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>遍历数组的方法可以用循环/迭代器等。如果需要flatten数组然后访问，可以用c.flat做一个迭代器，也可以用c.flatten（）函数将数组先一维展开。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> i <span class="token keyword">in</span> c<span class="token punctuation">.</span>flat<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token comment" spellcheck="true">#即可打印所有元素</span>
<span class="token operator">>></span><span class="token operator">></span> c<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span>
       <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;NumPy, which stands for Numerical Python, is a library consisting of multidimensional array objects and a collection of routines for processing those arrays. Using NumPy, mathematical and logical operations on arrays can be performed&lt;br&gt;一些参考资料：&lt;br&gt;&lt;a href=&quot;http://scipy-lectures.github.io/intro/numpy/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Basics of numpy&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://scipy-lectures.github.io/intro/numpy/exercises.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Some numpy exercises&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://scipy-lectures.github.io/advanced/advanced_numpy/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Advanced numpy&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://docs.scipy.org/doc/numpy/reference/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Numpy reference&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://www.jiaxm.me/categories/python/"/>
    
    
      <category term="python" scheme="http://www.jiaxm.me/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Configuration</title>
    <link href="http://www.jiaxm.me/2017-07-day/Hexo%20Configuration/"/>
    <id>http://www.jiaxm.me/2017-07-day/Hexo Configuration/</id>
    <published>2017-07-13T11:40:00.000Z</published>
    <updated>2017-07-22T15:33:23.429Z</updated>
    
    <content type="html"><![CDATA[<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。本文为Hexo相关的东西，大部分与特性配置有关。<br><a id="more"></a></p>
<h1 id="特性配置"><a href="#特性配置" class="header-anchor"></a>1. <a href="#u7279_u6027_u914D_u7F6E" class="headerlink" title="特性配置"></a>特性配置</h1><h2 id="文章中添加居中模块"><a href="#文章中添加居中模块" class="header-anchor"></a>1.1. <a href="#u6587_u7AE0_u4E2D_u6DFB_u52A0_u5C45_u4E2D_u6A21_u5757" class="headerlink" title="文章中添加居中模块"></a>文章中添加居中模块</h2><p>文章Markdown中填写如下：</p>
<pre class="line-numbers language-css"><code class="language-css">&lt;blockquote class=<span class="token string">"blockquote-center"</span>>优秀的人，不是不合群，而是他们合群的人里面没有你&lt;/blockquote>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="隐藏网页底部powered-by-hexo-强力驱动"><a href="#隐藏网页底部powered-by-hexo-强力驱动" class="header-anchor"></a>1.2. <a href="#u9690_u85CF_u7F51_u9875_u5E95_u90E8powered_By_Hexo_/__u5F3A_u529B_u9A71_u52A8" class="headerlink" title="隐藏网页底部powered By Hexo / 强力驱动"></a>隐藏网页底部powered By Hexo / 强力驱动</h2><p>打开themes/next/layout/_partials/footer.swig,使用””隐藏之间的代码即可，或者直接删除。</p>
<h2 id="文章内插入图片"><a href="#文章内插入图片" class="header-anchor"></a>1.3. <a href="#u6587_u7AE0_u5185_u63D2_u5165_u56FE_u7247" class="headerlink" title="文章内插入图片"></a>文章内插入图片</h2><p>在文章中写入:</p>
<pre class="line-numbers language-json"><code class="language-json">!<span class="token punctuation">[</span><span class="token punctuation">]</span>(/upload_image/<span class="token number">1</span>.jpg<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后进入themes-主题名-source-upload_image目录下(自己创建)，将图片放到这个目录下，就可以了。</p>
<blockquote>
<p>说明：当执行hexo g命令时，会自动把图片复制到 public文件的upload_image目录下。</p>
</blockquote>
<h2 id="鼠标点击小红心的设置"><a href="#鼠标点击小红心的设置" class="header-anchor"></a>1.4. <a href="#u9F20_u6807_u70B9_u51FB_u5C0F_u7EA2_u5FC3_u7684_u8BBE_u7F6E" class="headerlink" title="鼠标点击小红心的设置"></a>鼠标点击小红心的设置</h2><p>将 <a href="https://github.com/Neveryu/Neveryu.github.io/blob/master/js/src/love.js" target="_blank" rel="external">love.js</a> 文件添加到 \themes\next\source\js\src 文件目录下。<br>找到 \themes\next\layout_layout.swing 文件， 在文件的后面， 标签之前 添加以下代码：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 页面点击小红心 <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"/js/src/love.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="header-anchor"></a>1.5. <a href="#u4FEE_u6539_u6587_u7AE0_u5185_u94FE_u63A5_u6587_u672C_u6837_u5F0F" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h2><p>将链接文本设置为蓝色，鼠标划过时文字颜色加深，并显示下划线。<br>找到文件 themes\next\source\css_custom\custom.styl ，添加如下 css 样式：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector"><span class="token class">.post-body</span> p a </span><span class="token punctuation">{</span>
  <span class="token selector">color: <span class="token id">#0593d3</span>;
  border-bottom: none;
  &amp;<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#0477ab</span><span class="token punctuation">;</span>
    <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="设置字体"><a href="#设置字体" class="header-anchor"></a>1.6. <a href="#u8BBE_u7F6E_u5B57_u4F53" class="headerlink" title="设置字体"></a>设置字体</h2><blockquote>
<p>note: 此特性在版本 5.0.1 中引入，要使用此功能请确保所使用的 NexT 版本在此之后</p>
</blockquote>
<p>为了解决 Google Fonts API 不稳定的问题，NexT 在 5.0.1 中引入此特性。 通过此特性，你可以指定所使用的字体库外链地址；与此同时，NexT 开放了 5 个特定范围的字体设定，他们是：</p>
<ul>
<li>全局字体：定义的字体将在全站范围使用</li>
<li>标题字体：文章内标题的字体（h1, h2, h3, h4, h5, h6）</li>
<li>文章字体：文章所使用的字体</li>
<li>Logo字体：Logo 所使用的字体</li>
<li>代码字体： 代码块所使用的字体</li>
</ul>
<p>注意，各项所指定的字体将作为首选字体，当他们不可用时会自动 Fallback 到 NexT 设定的基础字体组：<br>非代码类字体：Fallback 到 “PingFang SC”, “Microsoft YaHei”, sans-serif<br>代码类字体： Fallback 到 consolas, Menlo, “PingFang SC”, “Microsoft YaHei”, monospace<br>另外，每一项都有一个额外的 external 属性，此属性用来控制是否使用外链字体库。 开放此属性方便你设定那些已经安装在系统中的字体，减少不必要的请求（请求大小）。</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">font</span><span class="token punctuation">:</span>
  <span class="token property">enable</span><span class="token punctuation">:</span> true

  # 外链字体库地址，例如 //fonts<span class="token number">.</span>googleapis<span class="token number">.</span>com <span class="token punctuation">(</span>默认值<span class="token punctuation">)</span>
  <span class="token property">host</span><span class="token punctuation">:</span> //fonts<span class="token number">.</span>googleapis<span class="token number">.</span>com

  # 全局字体，应用在 body 元素上
  <span class="token property">global</span><span class="token punctuation">:</span>
    <span class="token property">external</span><span class="token punctuation">:</span> true
    <span class="token property">family</span><span class="token punctuation">:</span> Lato

  # 标题字体 <span class="token punctuation">(</span>h<span class="token number">1</span>, h<span class="token number">2</span>, h<span class="token number">3</span>, h<span class="token number">4</span>, h<span class="token number">5</span>, h<span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token property">headings</span><span class="token punctuation">:</span>
    <span class="token property">external</span><span class="token punctuation">:</span> true
    <span class="token property">family</span><span class="token punctuation">:</span> Playball
    <span class="token property">size</span><span class="token punctuation">:</span> <span class="token number">30</span>

  # 文章字体
  <span class="token property">posts</span><span class="token punctuation">:</span>
    <span class="token property">external</span><span class="token punctuation">:</span> true
    <span class="token property">family</span><span class="token punctuation">:</span>

  # Logo 字体
  <span class="token property">logo</span><span class="token punctuation">:</span>
    <span class="token property">external</span><span class="token punctuation">:</span> true
    <span class="token property">family</span><span class="token punctuation">:</span> Playball
    <span class="token property">size</span><span class="token punctuation">:</span> <span class="token number">40</span>

  # 代码字体，应用于 code 以及代码块
  <span class="token property">codes</span><span class="token punctuation">:</span>
    <span class="token property">external</span><span class="token punctuation">:</span> true
    <span class="token property">family</span><span class="token punctuation">:</span> Droid Sans Mono
    <span class="token property">size</span><span class="token punctuation">:</span> <span class="token number">25</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="设置菜单"><a href="#设置菜单" class="header-anchor"></a>1.7. <a href="#u8BBE_u7F6E_u83DC_u5355" class="headerlink" title="设置菜单"></a>设置菜单</h2><p>菜单配置包括三个部分，第一是菜单项（名称和链接），第二是菜单项的显示文本，第三是菜单项对应的图标。 NexT 使用的是 <a href="http://fontawesome.io/" target="_blank" rel="external">Font Awesome</a> 提供的图标， Font Awesome 提供了 600+ 的图标，可以满足绝大的多数的场景。参考<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">官方设置菜单配置</a><br>如添加一个新的页面“链接”：</p>
<pre class="line-numbers language-shell"><code class="language-shell">hexo new page Links
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>即在<code>hexo/source/</code>目录下新建了<code>Links</code>目录，目录中包含<code>index.md</code>文件，文件内容：</p>
<pre class="line-numbers language-css"><code class="language-css">---
<span class="token property">title</span><span class="token punctuation">:</span> Links
<span class="token property">date</span><span class="token punctuation">:</span> <span class="token number">2017</span>-<span class="token number">07</span>-<span class="token number">20</span> <span class="token property">10</span><span class="token punctuation">:</span><span class="token property">34</span><span class="token punctuation">:</span><span class="token number">38</span>
---
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后再NexT主题配置文件中的menu项和menu_ico项中加入 Links</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">menu</span><span class="token punctuation">:</span>
  <span class="token property">home</span><span class="token punctuation">:</span> /
  <span class="token property">categories</span><span class="token punctuation">:</span> /categories/
  <span class="token property">archives</span><span class="token punctuation">:</span> /archives/
  <span class="token property">tags</span><span class="token punctuation">:</span> /tags/
  <span class="token property">about</span><span class="token punctuation">:</span> /about/
  <span class="token property">links</span><span class="token punctuation">:</span> /Links/ # <span class="token property">note</span><span class="token punctuation">:</span> links尝试用过<span class="token property">Links</span><span class="token punctuation">:</span> /Links发现会有问题——即使hexo g产生的/hexo/public目录中确实有/links，但是在推送到VPS的时候莫名其妙变成/Links，造成无法访问。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">menu_icons</span><span class="token punctuation">:</span>
  <span class="token property">enable</span><span class="token punctuation">:</span> true
  #<span class="token property">KeyMapsToMenuItemKey</span><span class="token punctuation">:</span> NameOfTheIconFromFontAwesome
  <span class="token property">home</span><span class="token punctuation">:</span> home
  <span class="token property">about</span><span class="token punctuation">:</span> user
  <span class="token property">categories</span><span class="token punctuation">:</span> th
  <span class="token property">schedule</span><span class="token punctuation">:</span> calendar
  <span class="token property">tags</span><span class="token punctuation">:</span> heart
  <span class="token property">archives</span><span class="token punctuation">:</span> archive
  <span class="token property">links</span><span class="token punctuation">:</span> heart
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后要修改<code>/themes/next/languages/</code>中对应的语言文件<code>zh-Hans.yml</code>的中links项</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">menu</span><span class="token punctuation">:</span>
  <span class="token property">home</span><span class="token punctuation">:</span> 首页
  <span class="token property">archives</span><span class="token punctuation">:</span> 归档
  <span class="token property">categories</span><span class="token punctuation">:</span> 分类
  <span class="token property">tags</span><span class="token punctuation">:</span> 标签
  <span class="token property">about</span><span class="token punctuation">:</span> 关于
  <span class="token property">search</span><span class="token punctuation">:</span> 搜索
  <span class="token property">schedule</span><span class="token punctuation">:</span> 日程表
  <span class="token property">sitemap</span><span class="token punctuation">:</span> 站点地图
  <span class="token property">commonweal</span><span class="token punctuation">:</span> 公益<span class="token number">404</span>
  <span class="token property">links</span><span class="token punctuation">:</span> 链接
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="添加并美化本地搜索"><a href="#添加并美化本地搜索" class="header-anchor"></a>1.8. <a href="#u6DFB_u52A0_u5E76_u7F8E_u5316_u672C_u5730_u641C_u7D22" class="headerlink" title="添加并美化本地搜索"></a>添加并美化本地搜索</h2><p>NexT 主题内置了本地站内搜索，很方便添加。</p>
<ol>
<li>首先安装<code>hexo-generator-search</code>插件，用于生成博客索引数据<br>在站点的根目录下执行以下命令进行安装：<pre class="line-numbers language-sh"><code class="language-sh">npm install hexo-generator-search --save
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>编辑 站点配置文件<code>_config.yml</code>，新增以下内容到任意位置：</li>
</ol>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">search</span><span class="token punctuation">:</span>
  <span class="token property">path</span><span class="token punctuation">:</span> search<span class="token number">.</span>xml
  <span class="token property">field</span><span class="token punctuation">:</span> post
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol>
<li>编辑NexT主题配置文件<code>_config.yml</code>，解注释local search:<pre class="line-numbers language-css"><code class="language-css"># Local search
<span class="token property">local_search</span><span class="token punctuation">:</span>
<span class="token property">enable</span><span class="token punctuation">:</span> true
# if auto, trigger search by changing input
# if manual, trigger search by pressing enter key or search button
<span class="token property">path</span><span class="token punctuation">:</span> search<span class="token number">.</span>xml
<span class="token property">fielf</span><span class="token punctuation">:</span> post
<span class="token property">format</span><span class="token punctuation">:</span> html
<span class="token property">limit</span><span class="token punctuation">:</span> <span class="token number">10000</span>
<span class="token property">trigger</span><span class="token punctuation">:</span> auto
# 注意把<span class="token property">trigger</span><span class="token punctuation">:</span> auto打开，可以在输入的同时即时显示搜索结果
# show top n results per article, show all results by setting to -<span class="token number">1</span>
#<span class="token property">top_n_per_article</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="侧边栏头像修饰"><a href="#侧边栏头像修饰" class="header-anchor"></a>1.9. <a href="#u4FA7_u8FB9_u680F_u5934_u50CF_u4FEE_u9970" class="headerlink" title="侧边栏头像修饰"></a>侧边栏头像修饰</h2><p>把侧边栏头像变成圆形，并且鼠标停留在上面发生旋转效果，参考<a href="odepub.cn/2016/03/20/Hexo-blog-theme-switching-from-Jacman-to-NexT-Mist/">这里</a>，具体修改文件的位置是<code>hexo\themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code>中的内容如下:</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector"><span class="token class">.site-author-image</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> <span class="token number">96</span>px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">2</span>px solid <span class="token hexcode">#333</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">/* start*/</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">50%</span>
  <span class="token property">webkit-transition</span><span class="token punctuation">:</span> <span class="token number">1.4</span>s all<span class="token punctuation">;</span>
  <span class="token property">moz-transition</span><span class="token punctuation">:</span> <span class="token number">1.4</span>s all<span class="token punctuation">;</span>
  <span class="token property">ms-transition</span><span class="token punctuation">:</span> <span class="token number">1.4</span>s all<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token number">1.4</span>s all<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">/* end */</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* start */</span>
<span class="token selector"><span class="token class">.site-author-image</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#55DAE1</span><span class="token punctuation">;</span>
  <span class="token property">webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">moz-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* end */</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="cloudinary-在线图片服务"><a href="#cloudinary-在线图片服务" class="header-anchor"></a>1.10. <a href="#Cloudinary__u5728_u7EBF_u56FE_u7247_u670D_u52A1" class="headerlink" title="Cloudinary 在线图片服务"></a>Cloudinary 在线图片服务</h2><p>除了在本地存储图片，还可以将图片上传到一些免费的CDN服务中。比如Cloudinary提供的图片CDN服务，在Cloudinary中上传图片后，会生成对应的url地址，将地址直接拿来引用即可。<br>在<a href="https://cloudinary.com" target="_blank" rel="external">Cloudinary</a>申请账号，上传图片(注意把upload选项中的unsigned signature选上)</p>
<h2 id="设置文章置顶"><a href="#设置文章置顶" class="header-anchor"></a>1.11. <a href="#u8BBE_u7F6E_u6587_u7AE0_u7F6E_u9876" class="headerlink" title="设置文章置顶"></a>设置文章置顶</h2><blockquote>
<p>note: 参考<a href="http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/" target="_blank" rel="external">解决文章置顶</a></p>
</blockquote>
<ol>
<li><p>安装 hexo-generator-index</p>
<pre class="line-numbers language-sh"><code class="language-sh">npm i --save hexo-generator-index
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>将如下的代码加入<code>node_modules/hexo-generator-index/lib/generator.js</code></p>
</li>
</ol>
<pre class="line-numbers language-js"><code class="language-js">posts<span class="token punctuation">.</span>data <span class="token operator">=</span> posts<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 两篇文章top都有定义</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">==</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>date <span class="token operator">-</span> a<span class="token punctuation">.</span>date<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 若top值一样则按照文章日期降序排</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>top <span class="token operator">-</span> a<span class="token punctuation">.</span>top<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 否则按照top值降序排</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>date <span class="token operator">-</span> a<span class="token punctuation">.</span>date<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 都没定义按照文章日期降序排</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最终的 <code>node_modules/hexo-generator-index/lib/generator.js</code> 代码:</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
var pagination <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'hexo-pagination'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">function</span><span class="token punctuation">(</span>locals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    var config <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">;</span>
    var posts <span class="token operator">=</span> locals<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>index_generator<span class="token punctuation">.</span>order_by<span class="token punctuation">)</span><span class="token punctuation">;</span>
    var paginationDir <span class="token operator">=</span> config<span class="token punctuation">.</span>pagination_dir <span class="token operator">||</span> <span class="token string">'page'</span><span class="token punctuation">;</span>
    posts<span class="token punctuation">.</span>data <span class="token operator">=</span> posts<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 两篇文章top都有定义</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">==</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>date <span class="token operator">-</span> a<span class="token punctuation">.</span>date<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 若top值一样则按照文章日期降序排</span>
            <span class="token keyword">else</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>top <span class="token operator">-</span> a<span class="token punctuation">.</span>top<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 否则按照top值降序排</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">.</span>top <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>date <span class="token operator">-</span> a<span class="token punctuation">.</span>date<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 都没定义按照文章日期降序排</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">pagination</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> posts<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        perPage<span class="token operator">:</span> config<span class="token punctuation">.</span>index_generator<span class="token punctuation">.</span>per_page<span class="token punctuation">,</span>
        layout<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token string">'archive'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        format<span class="token operator">:</span> paginationDir <span class="token operator">+</span> <span class="token string">'/%d/'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
          __index<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在文章 <code>Front-matter</code> 中添加 <code>top</code> 值，数值越大文章越靠前，如：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">title</span><span class="token punctuation">:</span> Hexo
<span class="token property">date</span><span class="token punctuation">:</span> <span class="token number">2017</span>-<span class="token number">07</span>-<span class="token number">21</span>
<span class="token property">tags</span><span class="token punctuation">:</span> vps
<span class="token property">categories</span><span class="token punctuation">:</span> vps
<span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="next主题宽度调整"><a href="#next主题宽度调整" class="header-anchor"></a>1.12. <a href="#next_u4E3B_u9898_u5BBD_u5EA6_u8C03_u6574" class="headerlink" title="next主题宽度调整"></a>next主题宽度调整</h2><p>编辑 <code>themes/next/source/css/_variables/custom.styl</code> 文件，新增变量：</p>
<pre class="line-numbers language-css"><code class="language-css">// 修改成你期望的宽度
$content-desktop = <span class="token number">700</span>px
// 当视窗超过 <span class="token number">1600</span>px 后的宽度
$content-desktop-large = <span class="token number">900</span>px
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上方法不适用与next.Picses scheme<br><code>Pisces Scheme</code> 编辑<code>themes/next/source/css/_schemes/Picses/_layout.styl</code>文件，更改以下 css 选项定义值：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector"><span class="token class">.header</span></span><span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">1150</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.container</span> <span class="token class">.main-inner</span> </span><span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">1150</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.content-wrap</span> </span><span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100%</span> - <span class="token number">260</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="设置disqus"><a href="#设置disqus" class="header-anchor"></a>1.13. <a href="#u8BBE_u7F6Edisqus" class="headerlink" title="设置disqus"></a>设置disqus</h2><blockquote>
<p>note: “多说”评论功能应用广泛，但是据其公司的<a href="http://dev.duoshuo.com/threads/58d1169ae293b89a20c57241" target="_blank" rel="external">声明</a>，多说网已经关闭。</p>
</blockquote>
<p>hexo已经内置了对disqus的支持，配置也很简单</p>
<ol>
<li>首先注册disques账号<br><a href="https://disqus.com" target="_blank" rel="external">https://disqus.com</a> 获取shortname</li>
<li>next主题内置了对disqus的支持，在next主题的_config_xml中搜索disqus，并做如下配置：<pre class="line-numbers language-css"><code class="language-css"># disqus
<span class="token property">disqus</span><span class="token punctuation">:</span>
 <span class="token property">enable</span><span class="token punctuation">:</span> True
 <span class="token property">shortname</span><span class="token punctuation">:</span> jiaxm-me
 <span class="token property">count</span><span class="token punctuation">:</span> true
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="给github添加readme"><a href="#给github添加readme" class="header-anchor"></a>1.14. <a href="#u7ED9github_u6DFB_u52A0README" class="headerlink" title="给github添加README"></a>给github添加README</h2><p>hexo会把md文件都解析成html，但是github的readme只支持MD格式，最简单的方法是让hexo不对README.md做转换。<br>站点配置文件_config_xml中的<code>skip_render:</code>改为<code>skip_render: README.md</code><br>note: README.md放在 hexo/source/目录中即可</p>
<h2 id="markdown里-table-的语法"><a href="#markdown里-table-的语法" class="header-anchor"></a>1.15. <a href="#MarkDown_u91CC_table__u7684_u8BED_u6CD5" class="headerlink" title="MarkDown里 table 的语法"></a>MarkDown里 table 的语法</h2><p>MD的写法</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">|</span> I <span class="token operator">|</span> am <span class="token operator">|</span> table <span class="token operator">|</span>
<span class="token operator">|</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">:</span><span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">:</span><span class="token operator">|</span>
<span class="token operator">|</span>文本内容<span class="token operator">|</span> <span class="token operator">**</span>`是`<span class="token operator">**</span> <span class="token operator">|</span>table<span class="token operator">|</span>
<span class="token operator">|</span>文本内容<span class="token operator">|</span> <span class="token operator">**</span>`是`<span class="token operator">**</span> <span class="token operator">|</span>table<span class="token operator">|</span>
<span class="token operator">|</span>文本内容<span class="token operator">|</span> <span class="token operator">**</span>`是`<span class="token operator">**</span> <span class="token operator">|</span>table<span class="token operator">|</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>表格与上面的文本内容之间<strong>空一行</strong>。否则解析不出来</li>
<li>最上面一行是表格第一列的值。第二行的冒号位置决定表格内文本的对齐方式。有水平居中、水平靠左对齐、水平靠右对齐三种</li>
<li>每列的宽度是根据对应列里最长的文本来决定的</li>
</ol>
<p>输出结果：</p>
<table>
<thead>
<tr>
<th style="text-align:left">我</th>
<th style="text-align:center">是</th>
<th style="text-align:right">展示表格</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">文本内容</td>
<td style="text-align:center"><strong><code>是</code></strong></td>
<td style="text-align:right">table</td>
</tr>
<tr>
<td style="text-align:left">文本内容</td>
<td style="text-align:center"><strong><code>是</code></strong></td>
<td style="text-align:right">table</td>
</tr>
<tr>
<td style="text-align:left">文本内容</td>
<td style="text-align:center"><strong><code>是</code></strong></td>
<td style="text-align:right">table</td>
</tr>
</tbody>
</table>
<h2 id="去除b2t-sidebar"><a href="#去除b2t-sidebar" class="header-anchor"></a>1.16. <a href="#u53BB_u9664b2t_sidebar" class="headerlink" title="去除b2t sidebar"></a>去除b2t sidebar</h2><p>找到<code>Hexo/themes/next/layout/_macro/sidebar.swig</code>文件，去掉其中关于b2t的部分：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token punctuation">{</span><span class="token number">%</span> if theme<span class="token number">.</span>sidebar<span class="token number">.</span>b<span class="token number">2</span>t <span class="token number">%</span><span class="token punctuation">}</span>
  <span class="token selector">&lt;div class="back-to-top">
    &lt;i class="fa fa-arrow-up">&lt;/i>
    </span><span class="token punctuation">{</span><span class="token number">%</span> if theme<span class="token number">.</span>sidebar<span class="token number">.</span>scrollpercent <span class="token number">%</span><span class="token punctuation">}</span>
      <span class="token selector">&lt;span id="scrollpercent">&lt;span>0&lt;/span>%&lt;/span>
    </span><span class="token punctuation">{</span><span class="token number">%</span> endif <span class="token number">%</span><span class="token punctuation">}</span>
  <span class="token selector">&lt;/div>
</span><span class="token punctuation">{</span><span class="token number">%</span> endif <span class="token number">%</span><span class="token punctuation">}</span>
&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="主题配置参考"><a href="#主题配置参考" class="header-anchor"></a>2. <a href="#u4E3B_u9898_u914D_u7F6E_u53C2_u8003" class="headerlink" title="主题配置参考"></a>主题配置参考</h1><ol>
<li><a href="http://chitanda.me/2015/06/11/tips-for-setup-hexo/" target="_blank" rel="external">markdown table</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。本文为Hexo相关的东西，大部分与特性配置有关。&lt;br&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.jiaxm.me/categories/hexo/"/>
    
    
      <category term="next" scheme="http://www.jiaxm.me/tags/next/"/>
    
      <category term="hexo" scheme="http://www.jiaxm.me/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>VPS Configuration</title>
    <link href="http://www.jiaxm.me/2017-07-day/VPS%20Configuraton/"/>
    <id>http://www.jiaxm.me/2017-07-day/VPS Configuraton/</id>
    <published>2017-07-04T04:00:04.000Z</published>
    <updated>2017-07-22T15:33:23.428Z</updated>
    
    <content type="html"><![CDATA[<p>VPS（Virtual Private Server 虚拟专用服务器）技术，将一台服务器分割成多个虚拟专享服务器的优质服务。简单的说，VPS就是一台拥有公网IP的服务器总结一下VPS搭建的过程，从域名的购买到VPS的设置<br><a id="more"></a></p>
<h1 id="vps的配置"><a href="#vps的配置" class="header-anchor"></a>1. <a href="#VPS_u7684_u914D_u7F6E" class="headerlink" title="VPS的配置"></a>VPS的配置</h1><h2 id="vps的购买-tbd"><a href="#vps的购买-tbd" class="header-anchor"></a>1.1. <a href="#VPS_u7684_u8D2D_u4E70_TBD" class="headerlink" title="VPS的购买 TBD"></a>VPS的购买 TBD</h2><h2 id="vps在ubuntu-1704下的软件配置"><a href="#vps在ubuntu-1704下的软件配置" class="header-anchor"></a>1.2. <a href="#VPS_u5728ubuntu_17-04_u4E0B_u7684_u8F6F_u4EF6_u914D_u7F6E" class="headerlink" title="VPS在ubuntu 17.04下的软件配置"></a>VPS在ubuntu 17.04下的软件配置</h2><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> upgrade
$ <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span> git-core
$ curl -sL https://deb.nodesource.com/setup_6.x <span class="token operator">|</span> <span class="token function">sudo</span> -E <span class="token function">bash</span> -
$ <span class="token function">apt-get</span> <span class="token function">install</span> -y nodejs
$ <span class="token function">npm</span> <span class="token function">install</span> hexo-cli hexo-server -g
$ <span class="token function">apt-get</span> <span class="token function">install</span> nginx
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="第三方服务"><a href="#第三方服务" class="header-anchor"></a>2. <a href="#u7B2C_u4E09_u65B9_u670D_u52A1" class="headerlink" title="第三方服务"></a>第三方服务</h1><h2 id="腾讯企业邮箱"><a href="#腾讯企业邮箱" class="header-anchor"></a>2.1. <a href="#u817E_u8BAF_u4F01_u4E1A_u90AE_u7BB1" class="headerlink" title="腾讯企业邮箱"></a>腾讯企业邮箱</h2><ol>
<li>购买域名</li>
<li>注册腾讯企业邮箱</li>
<li>在域名购买处填写MX记录 （注册腾讯企业邮箱过程中会有提示）</li>
<li>SPF 防止发出的邮件被识别为垃圾邮件。SPF是通过域名的TXT记录来进行设置的。<br>为了提升域名邮箱发送外域（@qq.com以外的邮箱）邮件的成功率，可以给自己的域名设置一条TXT记录来避免这种情况。 TXT记录值为：<code>v=spf1 include:spf.mail.qq.com ~all</code></li>
</ol>
<h2 id="shadowsocks的搭建"><a href="#shadowsocks的搭建" class="header-anchor"></a>2.2. <a href="#Shadowsocks_u7684_u642D_u5EFA" class="headerlink" title="Shadowsocks的搭建"></a>Shadowsocks的搭建</h2><p>见<a href="http://jiaxm.me/2017-07-day/Shadowsocks%20%E6%90%AD%E5%BB%BA/#more" target="_blank" rel="external">站内文章-Shadowsocks搭建</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;VPS（Virtual Private Server 虚拟专用服务器）技术，将一台服务器分割成多个虚拟专享服务器的优质服务。简单的说，VPS就是一台拥有公网IP的服务器总结一下VPS搭建的过程，从域名的购买到VPS的设置&lt;br&gt;
    
    </summary>
    
      <category term="VPS" scheme="http://www.jiaxm.me/categories/VPS/"/>
    
    
      <category term="VPS" scheme="http://www.jiaxm.me/tags/VPS/"/>
    
  </entry>
  
</feed>
